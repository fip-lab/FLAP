// GENERATED AUTOMATICALLY

domain manufacturer_mdp {
    types {
        good : object;
    };

    pvariables {
        PROCESSED_TO(good, good) : { non-fluent, bool, default = false };
        PRICE(good) : { non-fluent, int, default = 0 };
        PRICE_LEVEL_PROB_down_level1_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level1_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level1_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level1_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level1_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level1_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level1_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level2_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level2_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level2_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level2_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level2_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level2_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level2_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level3_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level3_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level3_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level3_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level3_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level3_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level3_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level4_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level4_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level4_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level4_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level4_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level4_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level4_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level5_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level5_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level5_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level5_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level5_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level5_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level5_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level6_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level6_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level6_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level6_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level6_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level6_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level6_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level7_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level7_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level7_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level7_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level7_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level7_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_down_level7_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level1_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level1_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level1_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level1_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level1_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level1_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level1_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level2_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level2_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level2_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level2_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level2_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level2_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level2_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level3_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level3_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level3_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level3_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level3_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level3_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level3_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level4_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level4_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level4_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level4_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level4_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level4_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level4_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level5_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level5_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level5_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level5_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level5_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level5_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level5_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level6_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level6_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level6_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level6_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level6_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level6_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level6_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level7_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level7_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level7_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level7_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level7_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level7_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_stable_level7_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level1_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level1_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level1_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level1_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level1_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level1_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level1_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level2_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level2_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level2_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level2_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level2_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level2_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level2_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level3_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level3_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level3_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level3_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level3_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level3_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level3_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level4_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level4_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level4_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level4_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level4_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level4_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level4_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level5_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level5_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level5_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level5_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level5_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level5_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level5_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level6_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level6_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level6_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level6_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level6_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level6_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level6_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level7_level1 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level7_level2 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level7_level3 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level7_level4 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level7_level5 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level7_level6 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_PROB_up_level7_level7 : { non-fluent, real, default = 0.0 };
        PRICE_LEVEL_FACTOR_level1 : { non-fluent, real, default = 1.0 };
        PRICE_LEVEL_FACTOR_level2 : { non-fluent, real, default = 1.0 };
        PRICE_LEVEL_FACTOR_level3 : { non-fluent, real, default = 1.0 };
        PRICE_LEVEL_FACTOR_level4 : { non-fluent, real, default = 1.0 };
        PRICE_LEVEL_FACTOR_level5 : { non-fluent, real, default = 1.0 };
        PRICE_LEVEL_FACTOR_level6 : { non-fluent, real, default = 1.0 };
        PRICE_LEVEL_FACTOR_level7 : { non-fluent, real, default = 1.0 };
        PRICE_TREND_CHANGE_PROB(good) : { non-fluent, real, default = 0.05 };
        MAX_NUM_FACTORIES : { non-fluent, int, default = 1 };
        BUILD_FACTORY_COST(good) : { non-fluent, int, default = 0 };
        PROB_CONSTRUCTION_DELAY_FACTORY(good) : { non-fluent, real, default = 0.0 };
        SALARY_PRODUCTION_MANAGER : { non-fluent, int, default = 0 };
        SALARY_MARKETING_MANAGER : { non-fluent, int, default = 0 };
        SALARY_LOBBYIST : { non-fluent, int, default = 0 };
        PROB_PRODUCTION_MANAGER_APPLIES : { non-fluent, real, default = 0.0 };
        PROB_MARKETING_MANAGER_APPLIES : { non-fluent, real, default = 0.0 };
        PROB_LOBBYIST_APPLIES : { non-fluent, real, default = 0.0 };
        MARKETING_MANAGER_BONUS : { non-fluent, real, default = 0.5 };
        LOBBYIST_BONUS : { non-fluent, real, default = 0.5 };

        current-price-level_is_level1_interm(good) : { interm-fluent, bool, level = 1 };
        current-price-level_is_level2_interm(good) : { interm-fluent, bool, level = 2 };
        current-price-level_is_level3_interm(good) : { interm-fluent, bool, level = 3 };
        current-price-level_is_level4_interm(good) : { interm-fluent, bool, level = 4 };
        current-price-level_is_level5_interm(good) : { interm-fluent, bool, level = 5 };
        current-price-level_is_level6_interm(good) : { interm-fluent, bool, level = 6 };
        current-price-level_is_level7_interm(good) : { interm-fluent, bool, level = 7 };
        price-trend_is_down_interm(good) : { interm-fluent, bool, level = 1 };
        price-trend_is_stable_interm(good) : { interm-fluent, bool, level = 2 };
        price-trend_is_up_interm(good) : { interm-fluent, bool, level = 3 };

        good-in-stock(good, good) : { state-fluent, bool, default = false };
        good-in-stock-for-sale(good) : { state-fluent, bool, default = false };
        current-price-level_is_level1(good) : { state-fluent, bool, default = false };
        current-price-level_is_level2(good) : { state-fluent, bool, default = false };
        current-price-level_is_level3(good) : { state-fluent, bool, default = false };
        current-price-level_is_level4(good) : { state-fluent, bool, default = true };
        current-price-level_is_level5(good) : { state-fluent, bool, default = false };
        current-price-level_is_level6(good) : { state-fluent, bool, default = false };
        current-price-level_is_level7(good) : { state-fluent, bool, default = false };
        price-trend_is_down(good) : { state-fluent, bool, default = false };
        price-trend_is_stable(good) : { state-fluent, bool, default = true };
        price-trend_is_up(good) : { state-fluent, bool, default = false };
        have-factory(good) : { state-fluent, bool, default = false };
        construction-progress-factory_is_not-building(good) : { state-fluent, bool, default = true };
        construction-progress-factory_is_starting(good) : { state-fluent, bool, default = false };
        construction-progress-factory_is_constructing1(good) : { state-fluent, bool, default = false };
        construction-progress-factory_is_constructing2(good) : { state-fluent, bool, default = false };
        construction-progress-factory_is_finishing(good) : { state-fluent, bool, default = false };
        have-production-manager(good) : { state-fluent, bool, default = false };
        have-lobbyist : { state-fluent, bool, default = false };
        have-marketing-manager : { state-fluent, bool, default = false };
        production-manager-applies : { state-fluent, bool, default = false };
        lobbyist-applies : { state-fluent, bool, default = false };
        marketing-manager-applies : { state-fluent, bool, default = false };

        purchase(good, good) : { action-fluent, bool, default = false };
        produce(good, good) : { action-fluent, bool, default = false };
        produce-for-sale(good) : { action-fluent, bool, default = false };
        sell(good) : { action-fluent, bool, default = false };
        purchase-produce(good, good) : { action-fluent, bool, default = false };
        purchase-produce-sell(good) : { action-fluent, bool, default = false };
        build-factory(good) : { action-fluent, bool, default = false };
        hire-production-manager(good) : { action-fluent, bool, default = false };
        hire-lobbyist : { action-fluent, bool, default = false };
        hire-marketing-manager : { action-fluent, bool, default = false };
    };

    cpfs {
        current-price-level_is_level1_interm(?g) = Bernoulli ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level1 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level1 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level1 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level1 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level1 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level1 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level1 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level1 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level1 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level1 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level1 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level1 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level1 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level1 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level1 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level1 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level1 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level1 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level1 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level1 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level1 ) ) ) ) );

        current-price-level_is_level2_interm(?g) = ~current-price-level_is_level1_interm( ?g ) & Bernoulli ( ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level2 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level2 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level2 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level2 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level2 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level2 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level2 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level2 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level2 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level2 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level2 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level2 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level2 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level2 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level2 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level2 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level2 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level2 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level2 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level2 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level2 ) ) ) ) ) / ( 1.0 - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level1 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level1 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level1 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level1 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level1 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level1 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level1 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level1 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level1 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level1 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level1 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level1 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level1 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level1 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level1 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level1 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level1 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level1 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level1 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level1 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level1 ) ) ) ) ) ) );

        current-price-level_is_level3_interm(?g) = ~current-price-level_is_level1_interm( ?g ) & ~current-price-level_is_level2_interm( ?g ) & Bernoulli ( ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level3 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level3 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level3 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level3 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level3 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level3 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level3 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level3 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level3 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level3 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level3 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level3 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level3 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level3 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level3 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level3 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level3 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level3 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level3 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level3 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level3 ) ) ) ) ) / ( 1.0 - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level1 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level1 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level1 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level1 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level1 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level1 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level1 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level1 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level1 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level1 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level1 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level1 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level1 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level1 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level1 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level1 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level1 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level1 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level1 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level1 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level1 ) ) ) ) ) - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level2 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level2 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level2 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level2 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level2 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level2 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level2 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level2 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level2 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level2 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level2 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level2 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level2 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level2 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level2 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level2 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level2 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level2 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level2 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level2 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level2 ) ) ) ) ) ) );

        current-price-level_is_level4_interm(?g) = ~current-price-level_is_level1_interm( ?g ) & ~current-price-level_is_level2_interm( ?g ) & ~current-price-level_is_level3_interm( ?g ) & Bernoulli ( ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level4 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level4 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level4 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level4 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level4 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level4 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level4 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level4 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level4 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level4 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level4 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level4 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level4 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level4 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level4 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level4 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level4 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level4 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level4 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level4 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level4 ) ) ) ) ) / ( 1.0 - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level1 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level1 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level1 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level1 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level1 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level1 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level1 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level1 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level1 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level1 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level1 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level1 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level1 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level1 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level1 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level1 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level1 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level1 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level1 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level1 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level1 ) ) ) ) ) - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level2 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level2 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level2 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level2 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level2 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level2 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level2 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level2 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level2 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level2 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level2 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level2 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level2 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level2 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level2 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level2 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level2 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level2 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level2 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level2 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level2 ) ) ) ) ) - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level3 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level3 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level3 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level3 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level3 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level3 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level3 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level3 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level3 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level3 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level3 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level3 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level3 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level3 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level3 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level3 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level3 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level3 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level3 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level3 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level3 ) ) ) ) ) ) );

        current-price-level_is_level5_interm(?g) = ~current-price-level_is_level1_interm( ?g ) & ~current-price-level_is_level2_interm( ?g ) & ~current-price-level_is_level3_interm( ?g ) & ~current-price-level_is_level4_interm( ?g ) & Bernoulli ( ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level5 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level5 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level5 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level5 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level5 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level5 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level5 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level5 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level5 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level5 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level5 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level5 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level5 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level5 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level5 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level5 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level5 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level5 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level5 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level5 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level5 ) ) ) ) ) / ( 1.0 - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level1 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level1 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level1 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level1 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level1 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level1 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level1 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level1 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level1 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level1 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level1 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level1 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level1 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level1 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level1 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level1 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level1 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level1 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level1 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level1 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level1 ) ) ) ) ) - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level2 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level2 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level2 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level2 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level2 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level2 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level2 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level2 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level2 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level2 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level2 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level2 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level2 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level2 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level2 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level2 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level2 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level2 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level2 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level2 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level2 ) ) ) ) ) - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level3 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level3 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level3 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level3 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level3 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level3 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level3 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level3 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level3 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level3 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level3 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level3 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level3 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level3 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level3 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level3 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level3 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level3 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level3 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level3 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level3 ) ) ) ) ) - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level4 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level4 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level4 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level4 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level4 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level4 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level4 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level4 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level4 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level4 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level4 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level4 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level4 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level4 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level4 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level4 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level4 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level4 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level4 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level4 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level4 ) ) ) ) ) ) );

        current-price-level_is_level6_interm(?g) = ~current-price-level_is_level1_interm( ?g ) & ~current-price-level_is_level2_interm( ?g ) & ~current-price-level_is_level3_interm( ?g ) & ~current-price-level_is_level4_interm( ?g ) & ~current-price-level_is_level5_interm( ?g ) & Bernoulli ( ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level6 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level6 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level6 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level6 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level6 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level6 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level6 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level6 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level6 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level6 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level6 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level6 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level6 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level6 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level6 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level6 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level6 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level6 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level6 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level6 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level6 ) ) ) ) ) / ( 1.0 - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level1 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level1 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level1 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level1 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level1 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level1 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level1 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level1 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level1 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level1 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level1 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level1 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level1 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level1 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level1 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level1 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level1 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level1 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level1 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level1 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level1 ) ) ) ) ) - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level2 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level2 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level2 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level2 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level2 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level2 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level2 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level2 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level2 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level2 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level2 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level2 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level2 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level2 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level2 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level2 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level2 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level2 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level2 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level2 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level2 ) ) ) ) ) - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level3 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level3 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level3 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level3 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level3 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level3 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level3 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level3 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level3 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level3 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level3 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level3 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level3 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level3 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level3 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level3 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level3 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level3 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level3 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level3 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level3 ) ) ) ) ) - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level4 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level4 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level4 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level4 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level4 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level4 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level4 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level4 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level4 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level4 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level4 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level4 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level4 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level4 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level4 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level4 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level4 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level4 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level4 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level4 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level4 ) ) ) ) ) - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level5 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level5 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level5 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level5 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level5 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level5 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level5 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level5 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level5 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level5 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level5 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level5 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level5 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level5 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level5 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level5 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level5 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level5 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level5 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level5 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level5 ) ) ) ) ) ) );

        current-price-level_is_level7_interm(?g) = ~current-price-level_is_level1_interm( ?g ) & ~current-price-level_is_level2_interm( ?g ) & ~current-price-level_is_level3_interm( ?g ) & ~current-price-level_is_level4_interm( ?g ) & ~current-price-level_is_level5_interm( ?g ) & ~current-price-level_is_level6_interm( ?g ) & Bernoulli ( ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level7 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level7 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level7 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level7 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level7 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level7 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level7 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level7 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level7 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level7 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level7 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level7 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level7 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level7 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level7 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level7 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level7 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level7 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level7 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level7 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level7 ) ) ) ) ) / ( 1.0 - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level1 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level1 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level1 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level1 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level1 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level1 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level1 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level1 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level1 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level1 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level1 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level1 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level1 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level1 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level1 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level1 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level1 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level1 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level1 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level1 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level1 ) ) ) ) ) - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level2 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level2 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level2 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level2 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level2 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level2 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level2 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level2 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level2 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level2 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level2 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level2 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level2 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level2 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level2 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level2 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level2 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level2 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level2 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level2 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level2 ) ) ) ) ) - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level3 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level3 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level3 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level3 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level3 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level3 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level3 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level3 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level3 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level3 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level3 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level3 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level3 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level3 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level3 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level3 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level3 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level3 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level3 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level3 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level3 ) ) ) ) ) - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level4 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level4 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level4 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level4 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level4 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level4 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level4 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level4 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level4 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level4 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level4 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level4 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level4 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level4 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level4 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level4 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level4 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level4 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level4 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level4 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level4 ) ) ) ) ) - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level5 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level5 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level5 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level5 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level5 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level5 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level5 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level5 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level5 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level5 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level5 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level5 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level5 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level5 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level5 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level5 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level5 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level5 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level5 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level5 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level5 ) ) ) ) ) - ( ( ( ( ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level1_level6 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level1_level6 ) + ( ( current-price-level_is_level1( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level1_level6 ) ) ) + ( ( ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level2_level6 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level2_level6 ) + ( ( current-price-level_is_level2( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level2_level6 ) ) ) + ( ( ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level3_level6 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level3_level6 ) + ( ( current-price-level_is_level3( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level3_level6 ) ) ) + ( ( ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level4_level6 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level4_level6 ) + ( ( current-price-level_is_level4( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level4_level6 ) ) ) + ( ( ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level5_level6 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level5_level6 ) + ( ( current-price-level_is_level5( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level5_level6 ) ) ) + ( ( ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level6_level6 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level6_level6 ) + ( ( current-price-level_is_level6( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level6_level6 ) ) ) + ( ( ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_down( ?g ) ) * PRICE_LEVEL_PROB_down_level7_level6 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_stable( ?g ) ) * PRICE_LEVEL_PROB_stable_level7_level6 ) + ( ( current-price-level_is_level7( ?g ) ) * ( price-trend_is_up( ?g ) ) * PRICE_LEVEL_PROB_up_level7_level6 ) ) ) ) ) ) );

        price-trend_is_down_interm(?g) = Bernoulli ( if ( price-trend_is_down( ?g ) ) then ( 1.0 - PRICE_TREND_CHANGE_PROB( ?g ) ) else if ( price-trend_is_stable( ?g ) ) then ( PRICE_TREND_CHANGE_PROB( ?g ) / 2 ) else 0 );

        price-trend_is_stable_interm(?g) = ~price-trend_is_down_interm( ?g ) & Bernoulli ( ( if ( price-trend_is_stable( ?g ) ) then ( 1.0 - PRICE_TREND_CHANGE_PROB( ?g ) ) else PRICE_TREND_CHANGE_PROB( ?g ) ) / ( 1.0 - ( if ( price-trend_is_down( ?g ) ) then ( 1.0 - PRICE_TREND_CHANGE_PROB( ?g ) ) else if ( price-trend_is_stable( ?g ) ) then ( PRICE_TREND_CHANGE_PROB( ?g ) / 2 ) else 0 ) ) );

        price-trend_is_up_interm(?g) = ~price-trend_is_down_interm( ?g ) & ~price-trend_is_stable_interm( ?g ) & Bernoulli ( ( if ( price-trend_is_up( ?g ) ) then ( 1.0 - PRICE_TREND_CHANGE_PROB( ?g ) ) else if ( price-trend_is_stable( ?g ) ) then ( PRICE_TREND_CHANGE_PROB( ?g ) / 2 ) else 0 ) / ( 1.0 - ( if ( price-trend_is_down( ?g ) ) then ( 1.0 - PRICE_TREND_CHANGE_PROB( ?g ) ) else if ( price-trend_is_stable( ?g ) ) then ( PRICE_TREND_CHANGE_PROB( ?g ) / 2 ) else 0 ) - ( if ( price-trend_is_stable( ?g ) ) then ( 1.0 - PRICE_TREND_CHANGE_PROB( ?g ) ) else PRICE_TREND_CHANGE_PROB( ?g ) ) ) );


        good-in-stock'(?g1, ?g2) = purchase( ?g1 , ?g2 ) | produce( ?g1 , ?g2 ) | purchase-produce( ?g1 , ?g2 ) | ( good-in-stock( ?g1 , ?g2 ) & ~produce-for-sale( ?g2 ) & ~purchase-produce-sell( ?g2 ) & ~( exists_{ ?g3 : good } [ produce( ?g2 , ?g3 ) ] ) );

        good-in-stock-for-sale'(?g) = produce-for-sale( ?g ) | ( good-in-stock-for-sale( ?g ) & ~sell( ?g ) );

        current-price-level_is_level1'(?g) = current-price-level_is_level1_interm( ?g );

        current-price-level_is_level2'(?g) = current-price-level_is_level2_interm( ?g );

        current-price-level_is_level3'(?g) = current-price-level_is_level3_interm( ?g );

        current-price-level_is_level4'(?g) = current-price-level_is_level4_interm( ?g );

        current-price-level_is_level5'(?g) = current-price-level_is_level5_interm( ?g );

        current-price-level_is_level6'(?g) = current-price-level_is_level6_interm( ?g );

        current-price-level_is_level7'(?g) = current-price-level_is_level7_interm( ?g );

        price-trend_is_down'(?g) = price-trend_is_down_interm( ?g );

        price-trend_is_stable'(?g) = price-trend_is_stable_interm( ?g );

        price-trend_is_up'(?g) = price-trend_is_up_interm( ?g );

        have-factory'(?g) = have-factory( ?g ) | ( construction-progress-factory_is_finishing( ?g ) );

        construction-progress-factory_is_not-building'(?g) = if ( build-factory( ?g ) ) then false else if ( construction-progress-factory_is_not-building( ?g ) ) then true else if ( construction-progress-factory_is_finishing( ?g ) ) then true else if ( Bernoulli ( PROB_CONSTRUCTION_DELAY_FACTORY( ?g ) ) ) then ( if ( construction-progress-factory_is_not-building( ?g ) ) then true else if ( construction-progress-factory_is_starting( ?g ) ) then false else if ( construction-progress-factory_is_constructing1( ?g ) ) then false else if ( construction-progress-factory_is_constructing2( ?g ) ) then false else false ) else if ( construction-progress-factory_is_starting( ?g ) ) then false else if ( construction-progress-factory_is_constructing1( ?g ) ) then false else false;

        construction-progress-factory_is_starting'(?g) = if ( build-factory( ?g ) ) then true else if ( construction-progress-factory_is_not-building( ?g ) ) then false else if ( construction-progress-factory_is_finishing( ?g ) ) then false else if ( Bernoulli ( PROB_CONSTRUCTION_DELAY_FACTORY( ?g ) ) ) then ( if ( construction-progress-factory_is_not-building( ?g ) ) then false else if ( construction-progress-factory_is_starting( ?g ) ) then true else if ( construction-progress-factory_is_constructing1( ?g ) ) then false else if ( construction-progress-factory_is_constructing2( ?g ) ) then false else false ) else if ( construction-progress-factory_is_starting( ?g ) ) then false else if ( construction-progress-factory_is_constructing1( ?g ) ) then false else false;

        construction-progress-factory_is_constructing1'(?g) = if ( build-factory( ?g ) ) then false else if ( construction-progress-factory_is_not-building( ?g ) ) then false else if ( construction-progress-factory_is_finishing( ?g ) ) then false else if ( Bernoulli ( PROB_CONSTRUCTION_DELAY_FACTORY( ?g ) ) ) then ( if ( construction-progress-factory_is_not-building( ?g ) ) then false else if ( construction-progress-factory_is_starting( ?g ) ) then false else if ( construction-progress-factory_is_constructing1( ?g ) ) then true else if ( construction-progress-factory_is_constructing2( ?g ) ) then false else false ) else if ( construction-progress-factory_is_starting( ?g ) ) then true else if ( construction-progress-factory_is_constructing1( ?g ) ) then false else false;

        construction-progress-factory_is_constructing2'(?g) = if ( build-factory( ?g ) ) then false else if ( construction-progress-factory_is_not-building( ?g ) ) then false else if ( construction-progress-factory_is_finishing( ?g ) ) then false else if ( Bernoulli ( PROB_CONSTRUCTION_DELAY_FACTORY( ?g ) ) ) then ( if ( construction-progress-factory_is_not-building( ?g ) ) then false else if ( construction-progress-factory_is_starting( ?g ) ) then false else if ( construction-progress-factory_is_constructing1( ?g ) ) then false else if ( construction-progress-factory_is_constructing2( ?g ) ) then true else false ) else if ( construction-progress-factory_is_starting( ?g ) ) then false else if ( construction-progress-factory_is_constructing1( ?g ) ) then true else false;

        construction-progress-factory_is_finishing'(?g) = if ( build-factory( ?g ) ) then false else if ( construction-progress-factory_is_not-building( ?g ) ) then false else if ( construction-progress-factory_is_finishing( ?g ) ) then false else if ( Bernoulli ( PROB_CONSTRUCTION_DELAY_FACTORY( ?g ) ) ) then ( if ( construction-progress-factory_is_not-building( ?g ) ) then false else if ( construction-progress-factory_is_starting( ?g ) ) then false else if ( construction-progress-factory_is_constructing1( ?g ) ) then false else if ( construction-progress-factory_is_constructing2( ?g ) ) then false else true ) else if ( construction-progress-factory_is_starting( ?g ) ) then false else if ( construction-progress-factory_is_constructing1( ?g ) ) then false else true;

        have-production-manager'(?g) = have-production-manager( ?g ) | hire-production-manager( ?g );

        have-lobbyist' = have-lobbyist | hire-lobbyist;

        have-marketing-manager' = have-marketing-manager | hire-marketing-manager;

        production-manager-applies' = Bernoulli ( PROB_PRODUCTION_MANAGER_APPLIES );

        lobbyist-applies' = Bernoulli ( PROB_LOBBYIST_APPLIES );

        marketing-manager-applies' = Bernoulli ( PROB_MARKETING_MANAGER_APPLIES );

    };

    reward = ( sum_{ ?g : good } [ sell( ?g ) * PRICE( ?g ) * ( ( ( ( current-price-level_is_level1( ?g ) ) * PRICE_LEVEL_FACTOR_level1 ) + ( ( current-price-level_is_level2( ?g ) ) * PRICE_LEVEL_FACTOR_level2 ) + ( ( current-price-level_is_level3( ?g ) ) * PRICE_LEVEL_FACTOR_level3 ) + ( ( current-price-level_is_level4( ?g ) ) * PRICE_LEVEL_FACTOR_level4 ) + ( ( current-price-level_is_level5( ?g ) ) * PRICE_LEVEL_FACTOR_level5 ) + ( ( current-price-level_is_level6( ?g ) ) * PRICE_LEVEL_FACTOR_level6 ) + ( ( current-price-level_is_level7( ?g ) ) * PRICE_LEVEL_FACTOR_level7 ) ) ) * ( 1 + ( have-marketing-manager * MARKETING_MANAGER_BONUS ) ) ] ) + ( sum_{ ?g : good } [ purchase-produce-sell( ?g ) * PRICE( ?g ) * ( ( ( ( current-price-level_is_level1( ?g ) ) * PRICE_LEVEL_FACTOR_level1 ) + ( ( current-price-level_is_level2( ?g ) ) * PRICE_LEVEL_FACTOR_level2 ) + ( ( current-price-level_is_level3( ?g ) ) * PRICE_LEVEL_FACTOR_level3 ) + ( ( current-price-level_is_level4( ?g ) ) * PRICE_LEVEL_FACTOR_level4 ) + ( ( current-price-level_is_level5( ?g ) ) * PRICE_LEVEL_FACTOR_level5 ) + ( ( current-price-level_is_level6( ?g ) ) * PRICE_LEVEL_FACTOR_level6 ) + ( ( current-price-level_is_level7( ?g ) ) * PRICE_LEVEL_FACTOR_level7 ) ) ) * ( 1 + ( have-marketing-manager * MARKETING_MANAGER_BONUS ) ) ] ) - ( sum_{ ?g1 : good } [ sum_{ ?g2 : good } [ purchase( ?g1 , ?g2 ) * PRICE( ?g1 ) * ( ( ( ( current-price-level_is_level1( ?g1 ) ) * PRICE_LEVEL_FACTOR_level1 ) + ( ( current-price-level_is_level2( ?g1 ) ) * PRICE_LEVEL_FACTOR_level2 ) + ( ( current-price-level_is_level3( ?g1 ) ) * PRICE_LEVEL_FACTOR_level3 ) + ( ( current-price-level_is_level4( ?g1 ) ) * PRICE_LEVEL_FACTOR_level4 ) + ( ( current-price-level_is_level5( ?g1 ) ) * PRICE_LEVEL_FACTOR_level5 ) + ( ( current-price-level_is_level6( ?g1 ) ) * PRICE_LEVEL_FACTOR_level6 ) + ( ( current-price-level_is_level7( ?g1 ) ) * PRICE_LEVEL_FACTOR_level7 ) ) ) * ( 1 - ( have-lobbyist * LOBBYIST_BONUS ) ) ] ] ) - ( sum_{ ?g1 : good } [ sum_{ ?g2 : good } [ purchase-produce-sell( ?g2 ) * PROCESSED_TO( ?g1 , ?g2 ) * ~good-in-stock( ?g1 , ?g2 ) * ( ( ( ( current-price-level_is_level1( ?g1 ) ) * PRICE_LEVEL_FACTOR_level1 ) + ( ( current-price-level_is_level2( ?g1 ) ) * PRICE_LEVEL_FACTOR_level2 ) + ( ( current-price-level_is_level3( ?g1 ) ) * PRICE_LEVEL_FACTOR_level3 ) + ( ( current-price-level_is_level4( ?g1 ) ) * PRICE_LEVEL_FACTOR_level4 ) + ( ( current-price-level_is_level5( ?g1 ) ) * PRICE_LEVEL_FACTOR_level5 ) + ( ( current-price-level_is_level6( ?g1 ) ) * PRICE_LEVEL_FACTOR_level6 ) + ( ( current-price-level_is_level7( ?g1 ) ) * PRICE_LEVEL_FACTOR_level7 ) ) ) * PRICE( ?g1 ) * ( 1 - ( have-lobbyist * LOBBYIST_BONUS ) ) ] ] ) - ( sum_{ ?g1 : good } [ sum_{ ?g2 : good } [ purchase-produce( ?g1 , ?g2 ) * ( sum_{ ?g3 : good } [ PROCESSED_TO( ?g3 , ?g1 ) * ~good-in-stock( ?g3 , ?g1 ) * ( ( ( ( current-price-level_is_level1( ?g3 ) ) * PRICE_LEVEL_FACTOR_level1 * PRICE( ?g3 ) * ( 1 - ( have-lobbyist * LOBBYIST_BONUS ) ) ) + ( ( current-price-level_is_level2( ?g3 ) ) * PRICE_LEVEL_FACTOR_level2 * PRICE( ?g3 ) * ( 1 - ( have-lobbyist * LOBBYIST_BONUS ) ) ) + ( ( current-price-level_is_level3( ?g3 ) ) * PRICE_LEVEL_FACTOR_level3 * PRICE( ?g3 ) * ( 1 - ( have-lobbyist * LOBBYIST_BONUS ) ) ) + ( ( current-price-level_is_level4( ?g3 ) ) * PRICE_LEVEL_FACTOR_level4 * PRICE( ?g3 ) * ( 1 - ( have-lobbyist * LOBBYIST_BONUS ) ) ) + ( ( current-price-level_is_level5( ?g3 ) ) * PRICE_LEVEL_FACTOR_level5 * PRICE( ?g3 ) * ( 1 - ( have-lobbyist * LOBBYIST_BONUS ) ) ) + ( ( current-price-level_is_level6( ?g3 ) ) * PRICE_LEVEL_FACTOR_level6 * PRICE( ?g3 ) * ( 1 - ( have-lobbyist * LOBBYIST_BONUS ) ) ) + ( ( current-price-level_is_level7( ?g3 ) ) * PRICE_LEVEL_FACTOR_level7 * PRICE( ?g3 ) * ( 1 - ( have-lobbyist * LOBBYIST_BONUS ) ) ) ) ) ] ) ] ] ) - ( sum_{ ?g : good } [ ( ~construction-progress-factory_is_not-building( ?g ) ) * BUILD_FACTORY_COST( ?g ) ] ) - ( sum_{ ?g : good } [ have-production-manager( ?g ) * SALARY_PRODUCTION_MANAGER ] ) - ( have-marketing-manager * SALARY_MARKETING_MANAGER ) - ( have-lobbyist * SALARY_LOBBYIST ) ;

    action-preconditions {
         ( forall_{ ?g : good } [ ( ( sum_{ ?g2 : good } [ purchase( ?g2 , ?g ) ] ) + ( sum_{ ?g2 : good } [ produce( ?g , ?g2 ) ] ) + ( sum_{ ?g2 : good } [ purchase-produce( ?g , ?g2 ) ] ) + produce-for-sale( ?g ) + sell( ?g ) + purchase-produce-sell( ?g ) ) <= 1 ] ) ;

         ( ( sum_{ ?g : good } [ build-factory( ?g ) ] ) + ( sum_{ ?g : good } [ hire-production-manager( ?g ) ] ) + hire-lobbyist + hire-marketing-manager ) <= 1;

         ( ( sum_{ ?g1 : good } [ sum_{ ?g2 : good } [ purchase( ?g2 , ?g1 ) + produce( ?g1 , ?g2 ) + purchase-produce( ?g1 , ?g2 ) ] ] ) + ( sum_{ ?g : good } [ produce-for-sale( ?g ) + sell( ?g ) + purchase-produce-sell( ?g ) + build-factory( ?g ) + hire-production-manager( ?g ) ] ) + hire-lobbyist + hire-marketing-manager ) <= ( sum_{ ?g : good } [ have-factory( ?g ) ] ) ;

         ( forall_{ ?g1 : good } [ forall_{ ?g2 : good } [ produce( ?g1 , ?g2 ) => have-factory( ?g1 ) ] ] ) ;

         ( forall_{ ?g1 : good } [ produce-for-sale( ?g1 ) => have-factory( ?g1 ) ] ) ;

         ( forall_{ ?g1 : good } [ purchase-produce-sell( ?g1 ) => have-factory( ?g1 ) ] ) ;

         ( forall_{ ?g1 : good } [ forall_{ ?g2 : good } [ purchase-produce( ?g1 , ?g2 ) => have-factory( ?g1 ) ] ] ) ;

         ( forall_{ ?g1 : good } [ forall_{ ?g2 : good } [ produce( ?g1 , ?g2 ) => ( forall_{ ?g3 : good } [ PROCESSED_TO( ?g3 , ?g1 ) => good-in-stock( ?g3 , ?g1 ) ] ) ] ] ) ;

         ( forall_{ ?g1 : good } [ produce-for-sale( ?g1 ) => ( forall_{ ?g2 : good } [ PROCESSED_TO( ?g2 , ?g1 ) => good-in-stock( ?g2 , ?g1 ) ] ) ] ) ;

         ( forall_{ ?g : good } [ sell( ?g ) => good-in-stock-for-sale( ?g ) ] ) ;

         ( forall_{ ?g : good } [ purchase-produce-sell( ?g ) => have-production-manager( ?g ) ] ) ;

         ( forall_{ ?g1 : good } [ forall_{ ?g2 : good } [ purchase-produce( ?g1 , ?g2 ) => have-production-manager( ?g1 ) ] ] ) ;

         ( forall_{ ?g1 : good } [ forall_{ ?g2 : good } [ purchase( ?g1 , ?g2 ) => PROCESSED_TO( ?g1 , ?g2 ) ] ] ) ;

         ( forall_{ ?g1 : good } [ forall_{ ?g2 : good } [ produce( ?g1 , ?g2 ) => PROCESSED_TO( ?g1 , ?g2 ) ] ] ) ;

         ( forall_{ ?g1 : good } [ forall_{ ?g2 : good } [ purchase-produce( ?g1 , ?g2 ) => PROCESSED_TO( ?g1 , ?g2 ) ] ] ) ;

         ( forall_{ ?g : good } [ build-factory( ?g ) => ~have-factory( ?g ) ] ) ;

         ( forall_{ ?g : good } [ build-factory( ?g ) => ( construction-progress-factory_is_not-building( ?g ) ) ] ) ;

         ( forall_{ ?g : good } [ build-factory( ?g ) => ( ( sum_{ ?g2 : good } [ have-factory( ?g2 ) ] ) <= MAX_NUM_FACTORIES ) ] ) ;

         ( forall_{ ?g : good } [ build-factory( ?g ) => ( exists_{ ?g2 : good } [ PROCESSED_TO( ?g2 , ?g ) ] ) ] ) ;

         ( forall_{ ?g : good } [ hire-production-manager( ?g ) => production-manager-applies ] ) ;

        hire-marketing-manager => marketing-manager-applies;

        hire-lobbyist => lobbyist-applies;

         ( forall_{ ?g : good } [ hire-production-manager( ?g ) => have-factory( ?g ) ] ) ;

    };

}
